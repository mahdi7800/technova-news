<?phpadd_action( 'add_meta_boxes', 'tnw_add_meta_box_type_post' );function tnw_add_meta_box_type_post() {	add_meta_box(		'tnw_add_meta_box_type_post',		'نوع نوشته منتشر شده',		'add_meta_box_type_post_layout',		'post',		'normal',		'high'	);	function add_meta_box_type_post_layout( $post ) {		$type_post = get_post_meta( $post->ID, '_type_post_meta', true );		wp_nonce_field( 'type_post_nonce', 'type_post_nonce' );		?>        <div class="tnw_type_post_s">            <label class="radio-button">                <input type="radio" name="type_post" value="text" <?php checked($type_post, 'text'); ?>>                <span>متن</span>            </label>            <label class="radio-button">                <input type="radio" name="type_post" value="video" <?php checked($type_post, 'video'); ?>>                <span>ویدیو</span>            </label>            <label class="radio-button">                <input type="radio" name="type_post" value="img" <?php checked($type_post, 'img'); ?>>                <span>عکس</span>            </label>        </div>		<?php	}}add_action('save_post','tnw_add_meta_box_type_post_save');function tnw_add_meta_box_type_post_save($post_id) {	// بررسی nonce برای امنیت	if ( ! isset( $_POST['type_post_nonce'] ) || ! wp_verify_nonce( $_POST['type_post_nonce'], 'type_post_nonce' ) ) {		return;	}	// جلوگیری از ذخیره خودکار	if ( defined( 'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) {		return;	}	// بررسی دسترسی کاربر	if ( ! current_user_can( 'edit_post', $post_id ) ) {		return;	}       if (isset($_POST['type_post'])){           $value_save = sanitize_text_field($_POST['type_post']);           update_post_meta($post_id,'_type_post_meta',$value_save);       }}add_action( 'add_meta_boxes', 'tnw_add_meta_box' );function tnw_add_meta_box() {	add_meta_box(		'tnw_add_meta_boxes',		'تنظیمات  پیشرفته وب سایت',		'add_meta_box_layout',		'post',		'normal',		'high'	);	function add_meta_box_layout( $post ) {		$category = get_post_meta( $post->ID, '_tnw_category_post', true );		wp_nonce_field( 'cat_post_nonce', 'cat_post_nonce' );		?>        <label for="cat_post">دسته بندی مقالات</label>		<?php		$args = [			'name'             => 'cat_post',			'selected'         => get_post_meta( $post->ID, '_tnw_category_post', true ),			'show_option_none' => 'بدون دسته بندی...'		];		wp_dropdown_categories( $args );	}}add_action( 'save_post', 'tnw_meta_box_save' );function tnw_meta_box_save( $post_id ) {	// بررسی nonce برای امنیت	if ( ! isset( $_POST['cat_post_nonce'] ) || ! wp_verify_nonce( $_POST['cat_post_nonce'], 'cat_post_nonce' ) ) {		return;	}	// جلوگیری از ذخیره خودکار	if ( defined( 'DOING_AUTOSAVE' ) && DOING_AUTOSAVE ) {		return;	}	// بررسی دسترسی کاربر	if ( ! current_user_can( 'edit_post', $post_id ) ) {		return;	}    if (isset($_POST['cat_post'])){        $post_cat = intval($_POST['cat_post']);        update_post_meta($post_id,'_tnw_category_post',$post_cat);    }}add_action('add_meta_boxes', 'tnw_check_slider_show');function tnw_check_slider_show() {	add_meta_box(		'tnw_add_meta_box_sliders',		'قرار دادن پست ها در اسلایدر و مطلب منتخب سر دبیر',		'tnw_check_slider_show_layout',		'post',		'normal',		'high'	);}function tnw_check_slider_show_layout($post) {	$show_slider = get_post_meta($post->ID, '_check_slider', true);	$show_editor = get_post_meta($post->ID,'_check_editor',true);	wp_nonce_field('tnw_slider_editor_nonce_action', 'tnw_slider_editor_nonce');	?>    <div>        <label>            <input type="checkbox" name="show_slider" value="yes" <?php checked($show_slider, 'yes'); ?>>            <span>اگر می‌خواهید پست را در اسلایدر بگذارید، آن را فعال کنید!</span>        </label>    </div>    <div>        <label>            <input type="checkbox" name="show_editor" value="yes" <?php checked($show_editor, 'yes'); ?>>            <span>مطالب پیشنهادی سر دبیر</span>        </label>    </div>	<?php}add_action('save_post', 'tnw_check_slider_show_save');function tnw_check_slider_show_save($post_id) {	if (!isset($_POST['tnw_slider_editor_nonce']) ||	    !wp_verify_nonce($_POST['tnw_slider_editor_nonce'], 'tnw_slider_editor_nonce_action')) {		return;	}	if (defined('DOING_AUTOSAVE') && DOING_AUTOSAVE) {		return;	}	if (!current_user_can('edit_post', $post_id)) {		return;	}	if (isset($_POST['show_slider'])) {		update_post_meta($post_id, '_check_slider', 'yes');	} else {		delete_post_meta($post_id, '_check_slider');	}	if (isset($_POST['show_editor'])) {		update_post_meta($post_id, '_check_editor', 'yes');	} else {		delete_post_meta($post_id, '_check_editor');	}}